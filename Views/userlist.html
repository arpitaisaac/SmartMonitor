<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ImageUploadify - Example</title>

    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/fontawesome/fontawesome.min.css" rel="stylesheet">
    <link href="/dist/imageuploadify.min.css" rel="stylesheet">
</head>

<body>

    <table id="tabtab"></table>

    <script src="/dist/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/dist/imageuploadify.min.js"></script>

    <script type="text/javascript">
        $(document).ready(() => {
            $.getJSON("/user/", (users) => {
                addCheckbox(users);
            });
        });

        function addCheckbox(users) {
            const dispId = document.getElementById("Displays");
            users.forEach(user => {
                const id = user.id;
                const name = user.name;

                const checkbox = document.createElement("input");
                checkbox.setAttribute("type", "checkbox");
                checkbox.setAttribute("name", "ids");
                checkbox.setAttribute("value", user.id);

                const label = document.createElement("label");
                label.innerText = user.name;

                const div = document.createElement("div");
                div.appendChild(checkbox);
                div.appendChild(label);
                dispId.appendChild(div);
            });
        }
    </script>
    <script>
        $.getJSON('/user/', (user) => {
            var tab = document.createElement('table');
            tab.classList.add("table", "thead-dark"); //Pending Testing
            var newthead = document.createElement('thead');
            tab.appendChild(newthead);
            var newtr = document.createElement('tr');
            newthead.appendChild(newtr);
            var newth = document.createElement('th');
            newth.innerText = "ID";
            newtr.appendChild(newth);
            var newth = document.createElement('th');
            newth.innerText = "User Name";
            newtr.appendChild(newth);
            var newtbody = document.createElement('tbody');
            tab.appendChild(newtbody);
            // newtbody.appendChild(newtr);
            for (var i = 0; i < user.length; ++i) {
                var newTR = document.createElement('tr');
                var id = document.createElement('td');
                id.appendChild(document.createTextNode(i + 1));
                newTR.appendChild(id);
                var username = document.createElement('td');
                username.appendChild(document.createTextNode(user[i].name));
                newTR.appendChild(username);
                newtbody.appendChild(newTR);
            }
            $('#tabtab').append(tab);
        });
    </script>

</body>

</html>